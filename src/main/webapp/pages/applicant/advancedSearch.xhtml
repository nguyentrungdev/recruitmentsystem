<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<f:facet name="first">
		<title>Apllicant Advanced Search</title>
	</f:facet>
</h:head>
<h:body>
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/reset.css" />
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/theme.css" />
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/style.css" />

	<ui:include src="../Templates/Header.xhtml"></ui:include>
	<div class="container">
		<p:message id="message" for="message" showDetail="true"
			autoUpdate="true" closable="true" />
		<h:form id="applicantForm" class="form-horizontal">
			<h1>Applicant advanced search</h1>
			<p:fieldset legend="Search criterias" toggleable="true">
				<div class="form-group col-md-6">
					<p:outputLabel value="Full name" for="fullNameSearch"
						class="control-label col-sm-12 col-md-4"></p:outputLabel>
					<div class="col-sm-14 col-md-8">
						<p:inputText id="fullNameSearch"
							value="#{applicant_Bean.applicantAdvancedSearch.fullName}"></p:inputText>
					</div>
				</div>

				<div class="form-group col-md-6">
					<p:outputLabel value="Email" for="emailSearch"
						class="control-label col-sm-12 col-md-3"></p:outputLabel>
					<div class="col-sm-12 col-md-9">
						<p:inputText id="emailSearch"
							value="#{applicant_Bean.applicantAdvancedSearch.email}"></p:inputText>
					</div>
				</div>

				<div class="form-group col-md-6">
					<p:outputLabel value="Graduation time"
						class="control-label col-sm-12 col-md-4" />
					<div class="col-sm-12 col-md-4">
						<p:calendar id="graduTimeFromSearch" pattern="dd/MM/yyyy"
							placeholder="from"
							value="#{applicant_Bean.applicantAdvancedSearch.graduateFrom}" />
					</div>
					<div class="col-sm-12 col-md-4">
						<p:calendar id="graduTimeToSearch" pattern="dd/MM/yyyy"
							placeholder="to"
							value="#{applicant_Bean.applicantAdvancedSearch.graduateTo}" />
					</div>
				</div>
				<div class="col-md-6 form-group">
					<p:outputLabel for="skillSearch" value="Skill"
						class="control-label col-sm-12 col-md-3" />
					<div class="col-sm-12 col-md-9">
						<p:selectManyCheckbox id="skillSearch" layout="grid" columns="4">
							<f:selectItem itemLabel="Java" itemValue="java" />
							<f:selectItem itemLabel="Web" itemValue="web" />
							<f:selectItem itemLabel="PHP" itemValue="php" />
							<f:selectItem itemLabel=".NET" itemValue="net" />
							<f:selectItem itemLabel="Mobile" itemValue="mobile" />
							<f:selectItem itemLabel="Test" itemValue="test" />
							<f:selectItem itemLabel="Other" itemValue="other" />
						</p:selectManyCheckbox>
					</div>
				</div>

				<div class="form-group col-md-6">
					<p:outputLabel value="Apply time"
						class="control-label col-sm-12 col-md-4" />
					<div class="col-sm-12 col-md-4">
						<p:calendar
							value="#{applicant_Bean.applicantAdvancedSearch.applyFrom}"
							id="applyTimeFromSearch" pattern="dd/MM/yyyy" placeholder="from" />
					</div>
					<div class="col-sm-12 col-md-4">
						<p:calendar
							value="#{applicant_Bean.applicantAdvancedSearch.applyTo}"
							id="applyTimeToSearch" pattern="dd/MM/yyyy" placeholder="to" />
					</div>
				</div>

				<div class="form-group col-md-6">
					<p:outputLabel for="eventSearch"
						class="control-label col-sm-12 col-md-3" value="Event" />
					<div class="col-md-9">
						<!-- <p:selectOneMenu id="eventSearch">
							<h:selectOneMenu value="#{user.favCoffee1}">
							<f:selectItem itemValue="" itemLabel="Select event"></f:selectItem>
		
					            <f:selectItem itemValue="#{event.id}" itemLabel="#{event.eventName}"></f:selectItem>
						</p:selectOneMenu> -->
						<h:selectOneMenu id="eventSearch" value="Event">
							<f:selectItems value="#{event_Bean.listEvents}"
								var="currentEvent" itemValue="#{currentEvent.id}"
								itemLabel="#{currentEvent.eventName}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="form-group col-md-12">
					<div class="col-md-offset-10 col-md-2">
						<p:commandButton id="entryCommand" value="search"
							action="#{applicant_Bean.searchApplicants}" />
						<p:button value="Cancel"></p:button>
					</div>
				</div>
			</p:fieldset>

			<!-- This is the table of the results -->
			<h1>Search result</h1>
			<!-- Message for insert update success here -->
			<p:message id="message" for="message" showDetail="true"
				autoUpdate="true" closable="true" />
			<!-- End Message for insert update -->
			<p:commandButton value="Create" action="create?faces-redirect=true" />
			<p:button value="Export pdf"></p:button>
			<p:dataTable value="#{applicant_Bean.listApplicants}" var="applicant">
				<p:column>
					<f:facet name="header">
						<h:outputText value="Last Name" />
					</f:facet>
					<h:outputText value="#{applicant.lastName} #{applicant.firstName}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Gender" />
					</f:facet>
					<h:outputText value="#{applicant.GenderText()}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Birthday" />
					</f:facet>
					<h:outputText value="#{applicant.birthday}">
						<f:convertDateTime pattern="dd-MM-yyyy" />
					</h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="University/ Lastest Company" />
					</f:facet>
					<h:outputText value="#{applicant.university}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Major/ Lastest Position" />
					</f:facet>
					<h:outputText value="#{applicant.major}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Graduated Time" />
					</f:facet>
					<h:outputText value="#{applicant.graduateTime}">
						<f:convertDateTime pattern="yyyy" />
					</h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Phone" />
					</f:facet>
					<h:outputText value="#{applicant.phoneNumber}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Email" />
					</f:facet>
					<h:outputText value="#{applicant.email}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Interested in (skills)" />
					</f:facet>
					<h:outputText value="#{applicant.SkillsText()}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Event" />
					</f:facet>
					<h:outputText value="#{applicant.event.eventName}" />
				</p:column>
			</p:dataTable>
		</h:form>

		<p:growl id="growlMessage" for="growlMessage" showDetail="true" sticky="false" life="3000" />

	</div>
	<ui:include src="../Templates/Footer.xhtml"></ui:include>
</h:body>
</html>